# AI 提示词优化工具 - 需求与技术方案文档

## 一、项目概述

本项目为一款 **AI 提示词优化工具**，包含：

| 平台 | 说明 |
|------|------|
| 移动端 App | iOS + Android |
| 桌面端 | Windows + macOS |

**核心流程**：语音转文字 → 提示词编辑/优化 → 手机与桌面端实时同步

---

## 二、核心需求

### 2.1 移动端 App

- **跨平台**：同时支持 iOS、Android
- **语音输入转文字（STT）**
  - 支持语音实时转文字
  - 可选方案：公共 API（在线） / 前端本地处理（离线）
- **提示词编辑与优化**：对转写文本编辑，内置 AI 优化逻辑（可后续扩展）
- **与桌面端连接**：手机主动连接桌面端，语音转文字结果自动同步到桌面端

### 2.2 桌面端

- 提供桌面端界面（前端页面）
- 接收移动端实时推送的语音转文字内容
- 展示、编辑、优化提示词
- 与移动端保持双向同步

### 2.3 整体流程

```
手机语音输入 → STT 转文字 → 发送到桌面端 → 实时展示 → AI 提示词优化
```

---

## 三、技术栈选型

### 3.1 移动端

| 模块 | 方案 |
|------|------|
| 框架 | React Native（RN） |
| 语音转文字 | 在线：react-native-voice（系统 STT）、讯飞/阿里云/Azure 等 API |
| 本地离线 | sherpa-onnx（RN 桥接） |

### 3.2 桌面端（推荐方案）

| 方案 | 技术栈 | 优势 | 适用场景 |
|------|--------|------|----------|
| **Electron**（推荐） | React + Node.js | 生态成熟、与 RN 共享 React 技术栈、打包简单 | 快速落地、团队熟悉 React |
| Tauri | React + Rust | 体积小、内存占用低 | 追求轻量、可接受 Rust 学习成本 |
| Web 单页 | React + PWA | 实现最简单、无需安装 | 仅需浏览器访问 |

**推荐：Electron**

- 与 RN 共享 React 技术栈，可复用组件与逻辑
- 可打包为 Windows / macOS 原生客户端
- 文档与社区成熟，上手快
- 开发步骤中已规划 Electron，便于统一推进

### 3.3 手机 ↔ 桌面端同步

| 项目 | 方案 |
|------|------|
| 通信 | Socket.IO / WebSocket |
| 同步内容 | 语音转文字片段、编辑后提示词、连接状态、设备发现 |

---

## 四、React Native 可行性

**结论：完全可以实现。**

| 需求 | 实现方式 |
|------|----------|
| 跨平台 iOS/Android | RN 原生支持 |
| 语音转文字 | 在线/本地库均可集成 |
| 网络与长连接 | WebSocket 支持 |
| 与桌面端通信 | Socket.IO 客户端 |
| 文本编辑与 UI | RN 组件与生态 |

---

## 五、推荐整体架构

```
┌─────────────────┐     Socket.IO      ┌─────────────────┐
│   移动端 RN     │ ◄────────────────► │  Node.js 服务   │
│  react-native-  │                    │  (同步服务)     │
│  voice (STT)    │                    └────────┬────────┘
└─────────────────┘                             │
                                                │ WebSocket
                                                ▼
                                       ┌─────────────────┐
                                       │  Electron 桌面端 │
                                       │  React 前端     │
                                       └─────────────────┘
```

| 组件 | 技术选型 |
|------|----------|
| 移动端 | React Native + react-native-voice |
| 桌面端 | Electron + React |
| 同步服务 | Node.js + Socket.IO |

**流程**：手机录音 → STT → 发送到 Socket 服务 → 桌面端监听 → 实时展示 → 提示词优化

---

## 六、开发规范

- **样式**：使用 Tailwind CSS
- **移动端**：使用 RN + Expo 启动项目

---

## 七、开发步骤（建议）

1. 搭建 RN + Expo 项目，完成麦克风权限与语音转文字
2. 搭建 Node.js + Socket.IO 同步服务
3. 搭建 Electron 桌面端，接入 Socket 并接收消息
4. 实现手机 ↔ 桌面端文本实时同步
5. 接入 AI 提示词优化逻辑
6. 测试、优化、打包发布
